
<div class="row">
    <div class="col-xs-12 form__container" >
        <div>
            <ix3-business-messages></ix3-business-messages>
            <form name="mainForm" id="mainForm"  ix3-form>
                <fieldset>
                    <legend class="form__title">Oferta</legend>
                    <br>
                    <div class="row" >
                        <div class="col-xs-12 form-horizontal"> 
                            <div class="form-group">
                                <label for="puesto" class="col-xs-3  control-label" ix3-label></label>
                                <div class="col-xs-9 ">
                                    <input ng-model="model.puesto" type="text" class="form-control" id="puesto" name="puesto"  ix3-validation>
                                </div>
                            </div> 
                        </div>
                    </div>

                    <div class="row" >
                        <div class="col-xs-12 form-horizontal"> 
                            <div class="form-group">
                                <label for="descripcion" class="col-xs-3  control-label" ix3-label></label>
                                <div class="col-xs-9">
                                    <textarea ng-model="model.descripcion" class="form-control" rows="7"  id="descripcion" name="descripcion"  ix3-validation></textarea>
                                </div>
                            </div> 
                        </div>
                    </div>  
                    <div class="row" >
                        <div class="col-xs-12 col-xs-12 col-xs-offset-3  form-horizontal">
                            <div class="checkbox">
                                <label>
                                    <input ng-model="model.cerrada" type="checkbox" >
                                    Oferta cerrada. Ya no se permitir&aacute; a&ntilde;adir nuevos candidatos.
                                </label>
                            </div>
                        </div> 
                    </div>                     
                    <br>
                    <legend class="form__title">Municipio del lugar de trabajo</legend>
                    <div class="row" >
                        <div class="col-xs-12 col-sm-6  form-horizontal">
                            <div class="form-group">
                                <label for="municipio.provincia" class="col-xs-3 col-sm-6 control-label" ix3-label></label>
                                <div class="col-xs-9 col-sm-6">
                                    <select ng-model="model.municipio.provincia" id="municipio.provincia" name="municipio.provincia" class="form-control" ix3-options="orderBy:'descripcion'" ix3-validation >
                                        <option value="">-- Elige Opcion --</option>
                                    </select>
                                </div>
                            </div> 
                        </div>
                        <div class="col-xs-12 col-sm-6  form-horizontal">
                            <div class="form-group">
                                <label for="municipio" class="col-xs-3 col-sm-6 control-label" ix3-label></label>
                                <div class="col-xs-9 col-sm-6">
                                    <select ng-model="model.municipio" id="municipio" name="municipio" class="form-control" ix3-options="orderBy:'descripcion'"  ix3-validation ix3-options-depend="{provincia:model.municipio.provincia}" >
                                        <option value="">-- Elige Opcion --</option>
                                    </select>
                                </div>
                            </div> 
                        </div> 
                    </div> 
                    <legend class="form__title">Destinado a personas de</legend>                    
                    <div class="row" >
                        <div class="col-xs-12 form-horizontal"> 
                            <div class="form-group">
                                <label for="familia" class="col-sm-3  control-label" ix3-label ></label>
                                <div class="col-sm-7">
                                    <select ng-model="model.familia" id="familia" name="familia" class="form-control" ix3-options="orderBy:'descripcion'"  >
                                        <option value="">-- Elige Opcion --</option>
                                    </select>
                                </div>
                            </div> 
                        </div> 
                    </div>    




                    <div class="row" >
                        <div class="col-xs-12  form-horizontal">
                            <div class="form-group">
                                <label class="col-xs-3  control-label"  >Ciclos</label>
                                <div class="col-xs-9">
                                    <table class="table table-bordered">
                                        <thead>                        
                                            <tr class="data-table__head">
                                                <th style="width:   1%;text-align: center"><input type="checkbox" ng-model="todosCiclos" ng-click="checkTodosCiclos(todosCiclos)"></th>
                                                <th style="width:   55%;text-align: center">Ciclo</th>
                                                <th style="width:   25%;text-align: center">Grado</th>
                                                <th style="width:   20%;text-align: center">Ley Educativa</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="ciclo in ciclos" class="data-table__row">
                                                <td ><input type="checkbox" checklist-model="model.ciclos" checklist-value="ciclo" checklist-comparator="compareCiclo"></td>
                                                <td >{{ciclo.descripcion}}</td>
                                                <td >{{ciclo.grado.toString()}}</td>                   
                                                <td >{{ciclo.leyEducativa.toString()}}</td>                             
                                            </tr>
                                        </tbody>
                                    </table> 
                                </div>
                            </div> 
                        </div> 
                    </div>  




                    <div class="row" ng-show="controllerAction !== 'NEW'" >
                        <div class="col-xs-12  form-horizontal">

                            <legend class="form__title">Candidatos</legend>
                            <div class="form-group" >
                                <div class="col-xs-9 col-xs-offset-3  form-horizontal">
                                    <div class="checkbox">
                                        <label>
                                            <input ng-model="filters.rechazado" ng-true-value="false" ng-false-value="undefined" type="checkbox" >
                                            Ocultar candidatos rechazados
                                        </label>
                                    </div>
                                </div> 
                            </div> 
                            <div class="form-group">
                                <div class="col-xs-9 col-xs-offset-3">
                                    <table class="table table-bordered">
                                        <thead>                        
                                            <tr class="data-table__head">
                                                <th ix3-order-field-names="usuario.nombre,usuario.apellidos" style="width:   95%;text-align: center">Nombre</th>
                                                <th ix3-order-field-names="fecha" style="min-width: 120px; width: 120px;text-align: center">Fecha inscripci&oacute;n</th>
                                                <th style="min-width: 120px; width: 120px;text-align: center">Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="candidato in candidatos" class="data-table__row">
                                                <td ><i ng-if="candidato.rechazado===true" class="fa fa-times" style="color:#FF0000">&nbsp;</i><a href ng-click="verCandidato(candidato.idCandidato)">{{candidato.usuario.getNombreCompleto()}}</a></td>                            
                                                <td >{{candidato.fecha| ix3Date}}</td>                            
                                                <td ><button class="btn btn-xs form__button form__button--default" type="button" ng-click="verCandidato(candidato.idCandidato)">Ver Curriculum</button></td>                            
                                            </tr>
                                        </tbody>
                                    </table> 
                                </div>
                            </div> 
                            <div class="pull-right">
                                <ix3-pagination></ix3-pagination>
                            </div>

                        </div> 
                    </div>                      

                    <br>
                    <div class="row" >
                        <div class="col-xs-12 ">
                            <div class="pull-right">
                                <fpe-ok-button  ></fpe-ok-button>
                                <fpe-cancel-button  ></fpe-cancel-button>
                            </div>    
                        </div>
                    </div>
                </fieldset>
            </form>
        </div>
    </div>
</div>

